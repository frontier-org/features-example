<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frontier Dashboard</title>
    <meta name="frontier-width" content="1200">
    <meta name="frontier-height" content="800">

    <!-- 2. Posição (Aceita Fórmulas Matemáticas) -->
    <!-- Centraliza na tela -->
    <meta name="frontier-x" content="(screen_w - win_w) / 2">
    <meta name="frontier-y" content="(screen_h - win_h) / 2">

    <!-- 3. Comportamento -->
    <meta name="frontier-resizable" content="true">  <!-- false para fixar -->
    <meta name="frontier-maximized" content="false"> <!-- true para iniciar maximizado -->
    
    <!-- 4. Ícone Específico desta janela -->
    <meta name="frontier-icon" content="icon.ico">

    <!-- 5. Persistência (Salvar posição ao fechar) -->
    <meta name="frontier-persistent" content="true">
    <meta name="frontier-id" content="janela_principal"> <!-- ID único para o save -->
    <!-- Tamanho Mínimo (NOVO) -->
    <meta name="frontier-min-width" content="300">
    <meta name="frontier-min-height" content="150">
    
    <!-- Botões da Janela (NOVO) -->
    <meta name="frontier-minimizable" content="false">  <!-- Mostra minimizar -->
    <meta name="frontier-maximizable" content="true"> <!-- Esconde maximizar -->
    <style>
        :root { --bg: #0f172a; --panel: #1e293b; --primary: #3b82f6; --text: #e2e8f0; }
        body { margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); display: flex; height: 100vh; overflow: hidden; }
        
        /* Sidebar */
        .sidebar { width: 250px; background: var(--panel); padding: 20px; display: flex; flex-direction: column; gap: 15px; border-right: 1px solid #334155; }
        .logo { font-size: 24px; font-weight: bold; color: var(--primary); margin-bottom: 20px; display: flex; align-items: center; gap: 10px; }
        .logo span { color: #fff; }
        
        button { background: #334155; border: none; color: white; padding: 12px; border-radius: 6px; cursor: pointer; text-align: left; transition: 0.2s; display: flex; align-items: center; gap: 10px; }
        button:hover { background: var(--primary); transform: translateX(5px); }
        button strong { font-size: 12px; opacity: 0.7; display: block; margin-bottom: 2px; }

        /* Main */
        .main { flex: 1; padding: 30px; display: flex; flex-direction: column; gap: 20px; }
        .header { display: flex; justify-content: space-between; align-items: center; }
        
        /* Terminal */
        .console-container { flex: 1; background: #000; border-radius: 8px; border: 1px solid #334155; padding: 15px; font-family: 'Consolas', monospace; overflow-y: auto; box-shadow: inset 0 0 20px rgba(0,0,0,0.5); }
        .log-entry { margin-bottom: 10px; border-bottom: 1px solid #222; padding-bottom: 5px; animation: fadeIn 0.3s; }
        .log-cmd { color: #facc15; font-size: 0.9em; }
        .log-out { color: #4ade80; white-space: pre-wrap; }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <div class="sidebar">
        <div class="logo">⚡ <span>FRONTIER 2000</span></div>
        
        <button onclick="executar('matematica', '10 50')">
            <div>
                <strong>NATIVO (GCCc)</strong>
                Calcular Carga 10 50 (C)
            </div>
        </button>

        <button onclick="executar('analise', 'Cliente_VIP')">
            <div>
                <strong>INTERPRETADO</strong>
                Rodar Script IA (Python)
            </div>
        </button>

        <button onclick="executar('tarefa', '')">
            <div>
                <strong>SISTEMA</strong>
                Info do Host (Batch)
            </div>
        </button>

        <div style="margin-top: auto; font-size: 12px; color: #64748b;">
            Engine v0.6.0<br>Status: Portable
        </div>
    </div>

    <div class="main">
        <div class="header">
            <h2>Console de Execução</h2>
            <button style="width: auto; background: #dc2626;" onclick="limpar()">Limpar</button>
        </div>
        <div class="console-container" id="terminal">
            <div class="log-entry"><span class="log-out">Sistema Frontier iniciado. Aguardando comandos...</span></div>
        </div>
    </div>

    <script>
        // API Frontier
        window.Frontier = {
            dispatch: (type, msg) => {
                const term = document.getElementById('terminal');
                const entry = document.createElement('div');
                entry.className = 'log-entry';
                entry.innerHTML = `<div class="log-out">${msg}</div>`;
                term.appendChild(entry);
                term.scrollTop = term.scrollHeight;
            }
        };

        function executar(programa, args) {
            const term = document.getElementById('terminal');
            term.innerHTML += `<div class="log-entry"><span class="log-cmd">> Executando: ${programa} ${args}</span></div>`;
            
            // Envia para o Rust: "nome_do_arquivo|argumentos"
            // Nota: Na fase de Build, os arquivos ganham o nome do arquivo original (sem extensao)
            window.ipc.postMessage(`${programa}|${args}`);
        }

        function limpar() {
            document.getElementById('terminal').innerHTML = '';
        }
    </script>
</body>
</html>